---
import Section from './Section.astro';
import { loadTranslations, type Language } from '../../i18n/utils';

export interface Props {
  currentLanguage?: Language;
}

const { currentLanguage = 'ja' } = Astro.props;
const translations = await loadTranslations(currentLanguage);
---

<Section id="faq">
<div class="min-h-screen bg-blue-100 rounded-3xl">
<div class="container mx-auto px-4 py-16">
    <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-6">
            {translations.faq.title}
        </h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            {translations.faq.subtitle}
        </p>
    </div>
    
    <div class="max-w-4xl mx-auto">
        <!-- 主要な質問 -->
        <div class="space-y-6 mb-12">
            <div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden transform hover:scale-105 transition-all duration-300">
                <button class="w-full p-6 text-left bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 transition-all duration-300" onclick="toggleFAQ('faq1')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">{translations.faq.mainQuestions.poc.question}</h3>
                        <svg class="w-6 h-6 text-blue-600 transition-transform duration-300" id="faq1-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div class="hidden p-6 bg-white" id="faq1">
                    <p class="text-gray-700 mb-4">
                        {translations.faq.mainQuestions.poc.answer.intro}
                    </p>
                    <ol class="list-decimal list-inside space-y-2 text-gray-700">
                        {translations.faq.mainQuestions.poc.answer.steps.map((step) => (
                            <li set:html={step.replace(' - ', ' - ')}></li>
                        ))}
                    </ol>
                    <p class="text-gray-700 mt-4">
                        {translations.faq.mainQuestions.poc.answer.conclusion}
                    </p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden transform hover:scale-105 transition-all duration-300">
                <button class="w-full p-6 text-left bg-gradient-to-r from-pink-50 to-pink-100 hover:from-pink-100 hover:to-pink-200 transition-all duration-300" onclick="toggleFAQ('faq2')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">{translations.faq.mainQuestions.security.question}</h3>
                        <svg class="w-6 h-6 text-pink-600 transition-transform duration-300" id="faq2-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div class="hidden p-6 bg-white" id="faq2">
                    <p class="text-gray-700 mb-4">
                        {translations.faq.mainQuestions.security.answer.intro}
                    </p>
                    <div class="grid md:grid-cols-2 gap-6 mb-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.mainQuestions.security.answer.dataProtection.title}</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700 text-sm">
                                {translations.faq.mainQuestions.security.answer.dataProtection.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.mainQuestions.security.answer.compliance.title}</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700 text-sm">
                                {translations.faq.mainQuestions.security.answer.compliance.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.mainQuestions.security.answer.technicalSecurity.title}</h4>
                        <div class="grid md:grid-cols-3 gap-4 text-sm">
                            <div>
                                <div class="font-semibold text-gray-800 mb-1">{translations.faq.mainQuestions.security.answer.technicalSecurity.communication.title}</div>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    {translations.faq.mainQuestions.security.answer.technicalSecurity.communication.items.map((item) => (
                                        <li>{item}</li>
                                    ))}
                                </ul>
                            </div>
                            <div>
                                <div class="font-semibold text-gray-800 mb-1">{translations.faq.mainQuestions.security.answer.technicalSecurity.accessControl.title}</div>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    {translations.faq.mainQuestions.security.answer.technicalSecurity.accessControl.items.map((item) => (
                                        <li>{item}</li>
                                    ))}
                                </ul>
                            </div>
                            <div>
                                <div class="font-semibold text-gray-800 mb-1">{translations.faq.mainQuestions.security.answer.technicalSecurity.monitoring.title}</div>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    {translations.faq.mainQuestions.security.answer.technicalSecurity.monitoring.items.map((item) => (
                                        <li>{item}</li>
                                    ))}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden transform hover:scale-105 transition-all duration-300">
                <button class="w-full p-6 text-left bg-gradient-to-r from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-200 transition-all duration-300" onclick="toggleFAQ('faq3')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">{translations.faq.mainQuestions.pricing.question}</h3>
                        <svg class="w-6 h-6 text-yellow-600 transition-transform duration-300" id="faq3-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div class="hidden p-6 bg-white" id="faq3">
                    <p class="text-gray-700 mb-4">
                        {translations.faq.mainQuestions.pricing.answer.intro}
                    </p>
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.mainQuestions.pricing.answer.aiDriven.title}</h4>
                            <div class="space-y-2 text-sm text-gray-700">
                                {translations.faq.mainQuestions.pricing.answer.aiDriven.items.map((item) => {
                                    const [label, value] = item.split(' - ');
                                    return (
                                        <div class="flex justify-between">
                                            <span>{label}</span>
                                            <span class="font-bold text-green-600">{value}</span>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.mainQuestions.pricing.answer.consistentSupport.title}</h4>
                            <div class="space-y-2 text-sm text-gray-700">
                                {translations.faq.mainQuestions.pricing.answer.consistentSupport.items.map((item) => {
                                    const [label, value] = item.split(' - ');
                                    return (
                                        <div class="flex justify-between">
                                            <span>{label}</span>
                                            <span class="font-bold text-green-600">{value}</span>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                    <div class="bg-yellow-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.mainQuestions.pricing.answer.priceComparison.title}</h4>
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div class="text-center">
                                <div class="font-semibold text-gray-900 mb-2">{translations.faq.mainQuestions.pricing.answer.priceComparison.generalIT}</div>
                                <div class="bg-gray-800 text-white p-3 rounded-lg">
                                    <div class="text-xs">PoC: 500-2000万円</div>
                                    <div class="text-xs">本開発: 2000万円+</div>
                                </div>
                            </div>
                            <div class="text-center">
                                <div class="font-semibold text-red-600 mb-2">{translations.faq.mainQuestions.pricing.answer.priceComparison.corInc}</div>
                                <div class="bg-red-600 text-white p-3 rounded-lg">
                                    <div class="text-xs">{translations.faq.mainQuestions.pricing.answer.priceComparison.pocPrice}</div>
                                    <div class="text-xs">{translations.faq.mainQuestions.pricing.answer.priceComparison.mainDevPrice}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- その他の質問 -->
        <div class="space-y-6">
            <h3 class="text-2xl font-bold text-center mb-8 text-green-600">
                {translations.faq.otherQuestions.title}
            </h3>
            
            <div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden transform hover:scale-105 transition-all duration-300">
                <button class="w-full p-6 text-left bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 transition-all duration-300" onclick="toggleFAQ('faq4')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">{translations.faq.otherQuestions.techStack.question}</h3>
                        <svg class="w-6 h-6 text-blue-600 transition-transform duration-300" id="faq4-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div class="hidden p-6 bg-white" id="faq4">
                    <p class="text-gray-700 mb-4">
                        {translations.faq.otherQuestions.techStack.answer.intro}
                    </p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2">{translations.faq.otherQuestions.techStack.answer.aiDevelopment.title}</h4>
                            <ul class="list-disc list-inside space-y-1 text-gray-700 text-sm">
                                {translations.faq.otherQuestions.techStack.answer.aiDevelopment.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2">{translations.faq.otherQuestions.techStack.answer.iotDevices.title}</h4>
                            <ul class="list-disc list-inside space-y-1 text-gray-700 text-sm">
                                {translations.faq.otherQuestions.techStack.answer.iotDevices.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2">{translations.faq.otherQuestions.techStack.answer.cloudML.title}</h4>
                            <ul class="list-disc list-inside space-y-1 text-gray-700 text-sm">
                                {translations.faq.otherQuestions.techStack.answer.cloudML.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2">{translations.faq.otherQuestions.techStack.answer.aiAgent.title}</h4>
                            <ul class="list-disc list-inside space-y-1 text-gray-700 text-sm">
                                {translations.faq.otherQuestions.techStack.answer.aiAgent.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                    </div>
                    <p class="text-gray-700 mt-4 text-sm">
                        {translations.faq.otherQuestions.techStack.answer.note}
                    </p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden transform hover:scale-105 transition-all duration-300">
                <button class="w-full p-6 text-left bg-gradient-to-r from-pink-50 to-pink-100 hover:from-pink-100 hover:to-pink-200 transition-all duration-300" onclick="toggleFAQ('faq5')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">{translations.faq.otherQuestions.roi.question}</h3>
                        <svg class="w-6 h-6 text-pink-600 transition-transform duration-300" id="faq5-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div class="hidden p-6 bg-white" id="faq5">
                    <p class="text-gray-700 mb-4">
                        {translations.faq.otherQuestions.roi.answer.intro}
                    </p>
                    <div class="grid md:grid-cols-3 gap-4 mb-6">
                        {translations.faq.otherQuestions.roi.answer.metrics.map((metric, index) => {
                            const [value, description] = metric.split(' - ');
                            const colors = ['text-blue-600', 'text-green-600', 'text-purple-600'];
                            const bgColors = ['bg-blue-50', 'bg-green-50', 'bg-purple-50'];
                            return (
                                <div class={`${bgColors[index]} p-4 rounded-lg text-center`}>
                                    <div class={`text-2xl font-bold ${colors[index]}`}>{value}</div>
                                    <div class="text-sm text-gray-600">{description}</div>
                                </div>
                            );
                        })}
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg mb-4">
                        <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.otherQuestions.roi.answer.caseStudies.title}</h4>
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <div class="font-semibold text-gray-800 mb-2">{translations.faq.otherQuestions.roi.answer.caseStudies.manufacturing.title}</div>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    {translations.faq.otherQuestions.roi.answer.caseStudies.manufacturing.items.map((item) => (
                                        <li>{item}</li>
                                    ))}
                                </ul>
                            </div>
                            <div>
                                <div class="font-semibold text-gray-800 mb-2">{translations.faq.otherQuestions.roi.answer.caseStudies.logistics.title}</div>
                                <ul class="list-disc list-inside space-y-1 text-gray-700">
                                    {translations.faq.otherQuestions.roi.answer.caseStudies.logistics.items.map((item) => (
                                        <li>{item}</li>
                                    ))}
                                </ul>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-700 text-sm">
                        {translations.faq.otherQuestions.roi.answer.note}
                    </p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden transform hover:scale-105 transition-all duration-300">
                <button class="w-full p-6 text-left bg-gradient-to-r from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-200 transition-all duration-300" onclick="toggleFAQ('faq6')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">{translations.faq.otherQuestions.sme.question}</h3>
                        <svg class="w-6 h-6 text-yellow-600 transition-transform duration-300" id="faq6-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div class="hidden p-6 bg-white" id="faq6">
                    <p class="text-gray-700 mb-4">
                        {translations.faq.otherQuestions.sme.answer.intro}
                    </p>
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        {translations.faq.otherQuestions.sme.answer.benefits.map((benefit) => (
                            <li set:html={benefit.replace(' - ', ' - ')}></li>
                        ))}
                    </ul>
                    <p class="text-gray-700 mt-4">
                        {translations.faq.otherQuestions.sme.answer.conclusion}
                    </p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden transform hover:scale-105 transition-all duration-300">
                <button class="w-full p-6 text-left bg-gradient-to-r from-indigo-50 to-indigo-100 hover:from-indigo-100 hover:to-indigo-200 transition-all duration-300" onclick="toggleFAQ('faq7')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-900">{translations.faq.otherQuestions.maintenance.question}</h3>
                        <svg class="w-6 h-6 text-indigo-600 transition-transform duration-300" id="faq7-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div class="hidden p-6 bg-white" id="faq7">
                    <p class="text-gray-700 mb-4">
                        {translations.faq.otherQuestions.maintenance.answer.intro}
                    </p>
                    <div class="grid md:grid-cols-2 gap-6 mb-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.otherQuestions.maintenance.answer.costEffective.title}</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700 text-sm">
                                {translations.faq.otherQuestions.maintenance.answer.costEffective.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.otherQuestions.maintenance.answer.rapidResponse.title}</h4>
                            <ul class="list-disc list-inside space-y-2 text-gray-700 text-sm">
                                {translations.faq.otherQuestions.maintenance.answer.rapidResponse.items.map((item) => (
                                    <li set:html={item}></li>
                                ))}
                            </ul>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-gray-900 mb-3">{translations.faq.otherQuestions.maintenance.answer.maintenanceFlow.title}</h4>
                        <div class="grid md:grid-cols-4 gap-3 text-sm">
                            {translations.faq.otherQuestions.maintenance.answer.maintenanceFlow.steps.map((step, index) => {
                                const [title, description] = step.split(' - ');
                                return (
                                    <div class="text-center">
                                        <div class="w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center mx-auto mb-2 text-xs font-bold">{index + 1}</div>
                                        <div class="font-semibold text-gray-800">{title}</div>
                                        <div class="text-gray-600">{description}</div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                    <p class="text-gray-700 mt-4 text-sm">
                        {translations.faq.otherQuestions.maintenance.answer.note}
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<script is:inline>
function toggleFAQ(id) {
    const content = document.getElementById(id);
    const arrow = document.getElementById(id + '-arrow');
    
    if (content && arrow) {
        if (content.classList.contains('hidden')) {
            content.classList.remove('hidden');
            arrow.style.transform = 'rotate(180deg)';
        } else {
            content.classList.add('hidden');
            arrow.style.transform = 'rotate(0deg)';
        }
    }
}
</script>
</Section>
